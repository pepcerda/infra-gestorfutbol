CREATE TABLE GF_CAIXAFIXA
(
    CF_ID    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    CF_CAM   BIGINT                                  NOT NULL,
    CF_NOM   VARCHAR(255)                            NOT NULL,
    CF_LLIN1 VARCHAR(255),
    CF_LLIN2 VARCHAR(255),
    CF_DESP  DECIMAL(15, 2)                          NOT NULL,
    CF_DATA  TIMESTAMP WITHOUT TIME ZONE,
    CF_OBS   VARCHAR(1024),
    CF_FACT  VARCHAR(255),
    CF_ESTAT VARCHAR(255),
    CONSTRAINT pk_gf_caixafixa PRIMARY KEY (CF_ID)
);

CREATE TABLE GF_CAMPANYA
(
    CAM_ID    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    CAM_ANY   TIMESTAMP WITHOUT TIME ZONE             NOT NULL,
    CAM_TITOL VARCHAR(255)                            NOT NULL,
    CONSTRAINT pk_gf_campanya PRIMARY KEY (CAM_ID)
);

CREATE TABLE GF_CATEGORIA
(
    CAT_ID  BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    CAT_CAM BIGINT                                  NOT NULL,
    CAT_NOM VARCHAR(255)                            NOT NULL,
    CONSTRAINT pk_gf_categoria PRIMARY KEY (CAT_ID)
);

CREATE TABLE GF_CATDESPESA
(
    CDE_ID  BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    CDE_NOM VARCHAR(100)                            NOT NULL,
    CONSTRAINT pk_gf_catdespesa PRIMARY KEY (CDE_ID)
);

CREATE TABLE GF_CONFIG
(
    CONF_ID   BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    CONF_CIF  VARCHAR(255),
    CONF_NOM  VARCHAR(255),
    CONF_COL  VARCHAR(255),
    CONF_LOGO VARCHAR(255),
    CONF_CLF1 VARCHAR(255),
    CONF_CLF2 VARCHAR(255),
    CONSTRAINT pk_gf_config PRIMARY KEY (CONF_ID)
);

CREATE TABLE GF_CONTACTEPROV
(
    CPR_ID    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    CPR_NOM   VARCHAR(255)                            NOT NULL,
    CPR_EMAIL VARCHAR(255),
    CPR_TELF  VARCHAR(255),
    CPR_PROV  BIGINT,
    CONSTRAINT pk_gf_contacteprov PRIMARY KEY (CPR_ID)
);

CREATE TABLE GF_DELEGAT
(
    MEM_ID      BIGINT NOT NULL,
    DEL_DELCAMP BOOLEAN,
    CONSTRAINT pk_gf_delegat PRIMARY KEY (MEM_ID)
);

CREATE TABLE GF_DIRECTIU
(
    DIR_ID    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    DIR_ROL   BIGINT                                  NOT NULL,
    DIR_DIR   BIGINT                                  NOT NULL,
    DIR_NOM   VARCHAR(255)                            NOT NULL,
    DIR_LLIN1 VARCHAR(255),
    DIR_LLIN2 VARCHAR(255),
    DIR_NIF   VARCHAR(255),
    CONSTRAINT pk_gf_directiu PRIMARY KEY (DIR_ID)
);

CREATE TABLE GF_DIRECTIVA
(
    DIR_ID    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    DIR_ALTA  TIMESTAMP WITHOUT TIME ZONE             NOT NULL,
    DIR_BAIXA TIMESTAMP WITHOUT TIME ZONE,
    CONSTRAINT pk_gf_directiva PRIMARY KEY (DIR_ID)
);

CREATE TABLE GF_ENTRENADOR
(
    MEM_ID     BIGINT NOT NULL,
    ENT_CARREC VARCHAR(255),
    CONSTRAINT pk_gf_entrenador PRIMARY KEY (MEM_ID)
);

CREATE TABLE GF_EQUIP
(
    EQP_ID  BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    EQP_NOM VARCHAR(255)                            NOT NULL,
    EQP_CAT BIGINT,
    CONSTRAINT pk_gf_equip PRIMARY KEY (EQP_ID)
);

CREATE TABLE GF_FACTURA
(
    FAC_ID       BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    FAC_CAM      BIGINT                                  NOT NULL,
    FAC_PROV     BIGINT                                  NOT NULL,
    FAC_CAT      BIGINT                                  NOT NULL,
    FAC_CONCEPTE VARCHAR(255),
    FAC_DES      DECIMAL(15, 2)                          NOT NULL,
    FAC_DOC      VARCHAR(255),
    FAC_DATA     TIMESTAMP WITHOUT TIME ZONE             NOT NULL,
    FAC_ESTAT    VARCHAR(20)                             NOT NULL,
    CONSTRAINT pk_gf_factura PRIMARY KEY (FAC_ID)
);

CREATE TABLE GF_JUGADOR
(
    MEM_ID      BIGINT       NOT NULL,
    JUG_POSICIO VARCHAR(255) NOT NULL,
    CONSTRAINT pk_gf_jugador PRIMARY KEY (MEM_ID)
);

CREATE TABLE GF_MEMPLANT
(
    MEM_ID    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    MEM_ROL   VARCHAR(31),
    MEM_CAM   BIGINT                                  NOT NULL,
    MEM_EQP   BIGINT                                  NOT NULL,
    MEM_NOM   VARCHAR(255)                            NOT NULL,
    MEM_LLIN1 VARCHAR(255),
    MEM_LLIN2 VARCHAR(255),
    MEM_DNAIX TIMESTAMP WITHOUT TIME ZONE             NOT NULL,
    CONSTRAINT pk_gf_memplant PRIMARY KEY (MEM_ID)
);

CREATE TABLE GF_MENSUALITAT
(
    MEN_ID  BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    MEN_CAM BIGINT                                  NOT NULL,
    MEN_EQP BIGINT                                  NOT NULL,
    MEN_ANY INTEGER                                 NOT NULL,
    MEN_MES INTEGER                                 NOT NULL,
    CONSTRAINT pk_gf_mensualitat PRIMARY KEY (MEN_ID)
);

CREATE TABLE GF_NOMINA
(
    NOM_ID    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    NOM_MEN   BIGINT                                  NOT NULL,
    NOM_MEM   BIGINT                                  NOT NULL,
    NOM_QUAN  DECIMAL(10, 2)                          NOT NULL,
    NOM_DATA  TIMESTAMP WITHOUT TIME ZONE,
    NOM_ESTAT VARCHAR(20)                             NOT NULL,
    CONSTRAINT pk_gf_nomina PRIMARY KEY (NOM_ID)
);

CREATE TABLE GF_PATROCINADOR
(
    PAT_ID      BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    PAT_CAM     BIGINT                                  NOT NULL,
    PAT_CIF     VARCHAR(255)                            NOT NULL,
    PAT_NOM     VARCHAR(255)                            NOT NULL,
    PAT_DONACIO BIGINT                                  NOT NULL,
    PAT_DATADON TIMESTAMP WITHOUT TIME ZONE             NOT NULL,
    PAT_OBS     VARCHAR(1024),
    PAT_ESTPAG  VARCHAR(1)                              NOT NULL,
    PAT_LOGO    VARCHAR(255),
    CONSTRAINT pk_gf_patrocinador PRIMARY KEY (PAT_ID)
);

CREATE TABLE GF_PROVEIDOR
(
    PR_ID   BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    PR_NOM  VARCHAR(255)                            NOT NULL,
    PR_NOMC VARCHAR(255)                            NOT NULL,
    PR_CIF  VARCHAR(255)                            NOT NULL,
    CONSTRAINT pk_gf_proveidor PRIMARY KEY (PR_ID)
);

CREATE TABLE GF_ROLDIR
(
    RDI_ID  BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    RDI_ROL VARCHAR(255)                            NOT NULL,
    CONSTRAINT pk_gf_roldir PRIMARY KEY (RDI_ID)
);

CREATE TABLE GF_SOCI
(
    SOC_ID     BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    SOC_CAM    BIGINT                                  NOT NULL,
    SOC_TIP    BIGINT                                  NOT NULL,
    SOC_ESTPAG VARCHAR(1)                              NOT NULL,
    SOC_NOM    VARCHAR(255)                            NOT NULL,
    SOC_LLIN1  VARCHAR(255),
    SOC_LLIN2  VARCHAR(255),
    SOC_NUM    INTEGER                                 NOT NULL,
    CONSTRAINT pk_gf_soci PRIMARY KEY (SOC_ID)
);

CREATE TABLE GF_TIPSOCI
(
    TIS_ID  BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    TIS_CAM BIGINT                                  NOT NULL,
    TIS_NOM VARCHAR(255),
    TIS_IMP BIGINT,
    CONSTRAINT pk_gf_tipsoci PRIMARY KEY (TIS_ID)
);

ALTER TABLE GF_CAIXAFIXA
    ADD CONSTRAINT FK_GF_CAIXAFIXA_ON_CF_CAM FOREIGN KEY (CF_CAM) REFERENCES GF_CAMPANYA (CAM_ID);

ALTER TABLE GF_CATEGORIA
    ADD CONSTRAINT FK_GF_CATEGORIA_ON_CAT_CAM FOREIGN KEY (CAT_CAM) REFERENCES GF_CAMPANYA (CAM_ID);

ALTER TABLE GF_CONTACTEPROV
    ADD CONSTRAINT FK_GF_CONTACTEPROV_ON_CPR_PROV FOREIGN KEY (CPR_PROV) REFERENCES GF_PROVEIDOR (PR_ID);

ALTER TABLE GF_DELEGAT
    ADD CONSTRAINT FK_GF_DELEGAT_ON_MEM FOREIGN KEY (MEM_ID) REFERENCES GF_MEMPLANT (MEM_ID);

ALTER TABLE GF_DIRECTIU
    ADD CONSTRAINT FK_GF_DIRECTIU_ON_DIR_DIR FOREIGN KEY (DIR_DIR) REFERENCES GF_DIRECTIVA (DIR_ID);

ALTER TABLE GF_DIRECTIU
    ADD CONSTRAINT FK_GF_DIRECTIU_ON_DIR_ROL FOREIGN KEY (DIR_ROL) REFERENCES GF_ROLDIR (RDI_ID);

ALTER TABLE GF_ENTRENADOR
    ADD CONSTRAINT FK_GF_ENTRENADOR_ON_MEM FOREIGN KEY (MEM_ID) REFERENCES GF_MEMPLANT (MEM_ID);

ALTER TABLE GF_EQUIP
    ADD CONSTRAINT FK_GF_EQUIP_ON_EQP_CAT FOREIGN KEY (EQP_CAT) REFERENCES GF_CATEGORIA (CAT_ID);

ALTER TABLE GF_FACTURA
    ADD CONSTRAINT FK_GF_FACTURA_ON_FAC_CAM FOREIGN KEY (FAC_CAM) REFERENCES GF_CAMPANYA (CAM_ID);

ALTER TABLE GF_FACTURA
    ADD CONSTRAINT FK_GF_FACTURA_ON_FAC_CAT FOREIGN KEY (FAC_CAT) REFERENCES GF_CATDESPESA (CDE_ID);

ALTER TABLE GF_FACTURA
    ADD CONSTRAINT FK_GF_FACTURA_ON_FAC_PROV FOREIGN KEY (FAC_PROV) REFERENCES GF_PROVEIDOR (PR_ID);

ALTER TABLE GF_JUGADOR
    ADD CONSTRAINT FK_GF_JUGADOR_ON_MEM FOREIGN KEY (MEM_ID) REFERENCES GF_MEMPLANT (MEM_ID);

ALTER TABLE GF_MEMPLANT
    ADD CONSTRAINT FK_GF_MEMPLANT_ON_MEM_CAM FOREIGN KEY (MEM_CAM) REFERENCES GF_CAMPANYA (CAM_ID);

ALTER TABLE GF_MEMPLANT
    ADD CONSTRAINT FK_GF_MEMPLANT_ON_MEM_EQP FOREIGN KEY (MEM_EQP) REFERENCES GF_EQUIP (EQP_ID);

ALTER TABLE GF_MENSUALITAT
    ADD CONSTRAINT uc_e589be81a81e673503f95e1ac UNIQUE (MEN_ID, MEN_ANY, MEN_MES);

ALTER TABLE GF_MENSUALITAT
    ADD CONSTRAINT FK_GF_MENSUALITAT_ON_MEN_CAM FOREIGN KEY (MEN_CAM) REFERENCES GF_CAMPANYA (CAM_ID);

ALTER TABLE GF_MENSUALITAT
    ADD CONSTRAINT FK_GF_MENSUALITAT_ON_MEN_EQP FOREIGN KEY (MEN_EQP) REFERENCES GF_EQUIP (EQP_ID);

ALTER TABLE GF_NOMINA
    ADD CONSTRAINT uc_f2dc83e24e8f41c55405cd39b UNIQUE (NOM_MEN, NOM_MEM);

ALTER TABLE GF_NOMINA
    ADD CONSTRAINT FK_GF_NOMINA_ON_NOM_MEM FOREIGN KEY (NOM_MEM) REFERENCES GF_MEMPLANT (MEM_ID);

ALTER TABLE GF_NOMINA
    ADD CONSTRAINT FK_GF_NOMINA_ON_NOM_MEN FOREIGN KEY (NOM_MEN) REFERENCES GF_MENSUALITAT (MEN_ID);

ALTER TABLE GF_PATROCINADOR
    ADD CONSTRAINT FK_GF_PATROCINADOR_ON_PAT_CAM FOREIGN KEY (PAT_CAM) REFERENCES GF_CAMPANYA (CAM_ID);

ALTER TABLE GF_SOCI
    ADD CONSTRAINT FK_GF_SOCI_ON_SOC_CAM FOREIGN KEY (SOC_CAM) REFERENCES GF_CAMPANYA (CAM_ID);

ALTER TABLE GF_SOCI
    ADD CONSTRAINT FK_GF_SOCI_ON_SOC_TIP FOREIGN KEY (SOC_TIP) REFERENCES GF_TIPSOCI (TIS_ID);

ALTER TABLE GF_TIPSOCI
    ADD CONSTRAINT FK_GF_TIPSOCI_ON_TIS_CAM FOREIGN KEY (TIS_CAM) REFERENCES GF_CAMPANYA (CAM_ID);
